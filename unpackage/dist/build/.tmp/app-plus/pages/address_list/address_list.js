(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address_list/address_list"],{"1f6e":function(e,t,s){"use strict";s("1a7f");var a=i(s("b0ce")),n=i(s("8ee8"));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(n.default))},2050:function(e,t,s){"use strict";var a=s("8785"),n=s.n(a);n.a},"60dc":function(e,t,s){"use strict";s.r(t);var a=s("7661"),n=s.n(a);for(var i in a)"default"!==i&&function(e){s.d(t,e,function(){return a[e]})}(i);t["default"]=n.a},7661:function(e,t,s){"use strict";(function(e){function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s({data:function(){return{value:"default",name:"默认地址",current:0,mch_list:[],addressList:[]}},methods:{goodsAddess:function(t){var s=this;e.request({url:s.$api+"order/new-submit-preview&access_token="+s.$access_token,method:"POST",data:{address_id:t,mch_list:JSON.stringify(s.mch_list)},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){var n=JSON.stringify(a.data.data);e.request({url:s.$api+"user/address-set-default&access_token="+s.$access_token+"&address_id="+t,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){e.showLoading({title:"加载中"}),e.redirectTo({url:"/pages/account/account?data="+n}),e.hideLoading()},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}})},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}})},selectTap:function(t,s){var a=this;for(var n in a.addressList)a.addressList[n].is_default=0;a.addressList[s].is_default=1,a.current=s,e.request({url:a.$api+"user/address-set-default&access_token="+a.$access_token+"&address_id="+t,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}})},editAddess:function(t){e.navigateTo({url:"/pages/address/address?id="+t})},delAddess:function(t){console.log(t),e.request({url:this.$api+"user/address-delete&address_id="+t+"&access_token="+this.$access_token,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){e.showToast({title:t.data.msg,icon:"none",duration:1500}),setTimeout(function(){e.navigateTo({delta:1})},1500)},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}})},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.current=t;break}}},onNavigationBarButtonTap:function(){e.navigateTo({url:"/pages/address/address"})},onLoad:function(t){var s=this;s.$access_token=e.getStorageSync("access_token"),s.$level=e.getStorageSync("level"),s.mch_list=JSON.parse(t.mch_list),console.log(t),console.log(s.mch_list)},onPullDownRefresh:function(){setTimeout(function(){},1e3)},onShow:function(){var t=this;e.request({url:t.$api+"user/address-list&access_token="+t.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var s=[],a=e.data.data.list;for(var n in a)s.push({id:a[n].id,linkMan:a[n].name,mobile:a[n].mobile,address:a[n].address,is_default:a[n].is_default});t.addressList=s},fail:function(){e.showToast({title:res.data.msg,icon:"none",duration:1500})}})}},"onPullDownRefresh",function(){});t.default=a}).call(this,s("6e42")["default"])},8785:function(e,t,s){},"8ee8":function(e,t,s){"use strict";s.r(t);var a=s("ce37"),n=s("60dc");for(var i in n)"default"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);s("2050");var o=s("2877"),d=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"65b48d4e",null);t["default"]=d.exports},ce37:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"address-list"},[s("view",{staticClass:"page_bg"}),e._l(e.addressList,function(t,a){return s("view",{key:a,staticClass:"a-address"},[s("view",{staticClass:"left-text",class:0==t.isDefault?"active":"",attrs:{eventid:"a27ca42a-0-"+a},on:{"~tap":function(s){e.goodsAddess(t.id)}}},[s("view",{staticClass:"name-tel"},[e._v("收货人："+e._s(t.linkMan)),s("text",[e._v(e._s(t.mobile))])]),s("view",{staticClass:"address-box"},[e._v("收货地址："+e._s(t.address))])]),s("view",{staticClass:"add_bottom"},[s("label",{staticClass:"uni-list-cell uni-list-cell-pd",attrs:{eventid:"a27ca42a-1-"+a},on:{tap:function(s){e.selectTap(t.id,a)}}},[s("radio",{attrs:{value:e.value,color:"#00001F",name:"default",checked:e.current===a&&1==t.is_default}}),e._v(e._s(e.name))],1),s("view",{staticClass:"right-edit",attrs:{eventid:"a27ca42a-2-"+a},on:{tap:function(s){e.editAddess(t.id)}}},[e._v("编辑")]),s("view",{staticClass:"right-del",attrs:{eventid:"a27ca42a-3-"+a},on:{tap:function(s){e.delAddess(t.id)}}},[e._v("删除")])],1)])})],2)},n=[];s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n})}},[["1f6e","common/runtime","common/vendor"]]]);