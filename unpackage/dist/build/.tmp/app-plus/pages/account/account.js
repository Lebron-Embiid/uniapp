(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/account/account"],{"160a":function(t,e,a){"use strict";a.r(e);var n=a("2ec8"),o=a("8be6");for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);a("6195");var c=a("2877"),s=Object(c["a"])(o["default"],n["a"],n["b"],!1,null,"7076885a",null);e["default"]=s.exports},"2ec8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},"4b2a":function(t,e,a){},6195:function(t,e,a){"use strict";var n=a("4b2a"),o=a.n(n);o.a},"8be6":function(t,e,a){"use strict";a.r(e);var n=a("abe3"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=o.a},abe3:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{address:{id:"",name:"",mobile:"",province:"",city:"",district:"",detail:"",is_default:""},content:"",cat_list:[],array:["微信支付","支付宝支付","余额支付"],index:0,express_price:0,accountList:[{id:1,img:"../../static/order_img1.jpg",title:"艾璐卡柔雾丝绒唇釉",info:"持久滋润·饱满显色·细腻亮泽·抚平唇纹",num:1,type:"6.8ml",price:118},{id:2,img:"../../static/order_img2.jpg",title:"艾璐卡柔雾丝绒唇釉",info:"持久滋润·饱满显色·细腻亮泽·抚平唇纹",num:1,type:"6.8ml",price:138}],all:118,level_price:0,total_price:0,mch_list:[],payment:0,pay_type:"WECHAT_PAY"}},methods:{toAddress:function(){console.log(JSON.stringify(this.mch_list)," at pages\\account\\account.vue:110"),t.navigateTo({url:"/pages/address_list/address_list?mch_list="+JSON.stringify(this.mch_list)})},bindPickerChange:function(t){console.log("picker发送选择改变，携带值为",t.target.value," at pages\\account\\account.vue:121"),this.index=t.target.value,0==this.index?(this.payment=0,this.pay_type="WECHAT_PAY"):1==this.index?(this.payment=1,this.pay_type="ALIPAY"):(this.payment=3,this.pay_type="BALANCE_PAY"),console.log(this.index," at pages\\account\\account.vue:133")},getMess:function(t){this.content=t.detail.value},toSubmit:function(e){var a=this;if(a.mch_list[0].show=!1,a.mch_list[0].show_length=0,a.mch_list[0].offline=0,a.mch_list[0].content=a.content,a.all>1e4)return t.showToast({title:"联系平台下单",icon:"none"}),!1;3==a.payment&&(t.showToast({title:"在线支付暂未完成",icon:"none",duration:1500}),setTimeout(function(){t.navigateTo({url:"/pages/my_order/my_order?id=0"})},1500)),t.request({url:a.$api+"order/new-submit&access_token="+a.$access_token,method:"POST",data:{payment:a.payment,use_integral:1,formId:void 0,mch_list:JSON.stringify(a.mch_list)},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){t.showToast({title:"提交成功",icon:"none",duration:1500}),a.all<1e4?setTimeout(function(){t.request({url:a.$api+"order/pay-data&access_token="+a.$access_token,method:"GET",data:{order_id:e.data.data.order_id,pay_type:a.pay_type,parent_user_id:0,condition:2,cat_list:a.cat_list},dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){3==a.payment?(t.showToast({title:e.data.msg,icon:"none",duration:1500}),0==e.data.code?(console.log(1111," at pages\\account\\account.vue:207"),setTimeout(function(){t.navigateTo({url:"/pages/my_order/my_order?id=1"})},1500)):(console.log(222," at pages\\account\\account.vue:214"),setTimeout(function(){t.navigateTo({url:"/pages/my_order/my_order?id=0"})},1500))):(t.showToast({title:"在线支付暂未完成",icon:"none",duration:1500}),setTimeout(function(){t.navigateTo({url:"/pages/my_order/my_order?id=0"})},1500))}})},1e3):(t.showToast({title:"金额大于一万请需通过其他渠道支付货款",icon:"none"}),setTimeout(function(){t.navigateTo({url:"/pages/my_order/my_order?id=0"})},1500))},fail:function(){t.showToast({title:"提交失败",icon:"none",duration:1500})}})}},onLoad:function(e){var a=this;a.$access_token=t.getStorageSync("access_token"),a.$level=t.getStorageSync("level"),console.log(e," at pages\\account\\account.vue:263");var n=JSON.parse(e.data);a.cat_list=e.cat_list,a.address=n.address,a.accountList=n.mch_list[0].goods_list,a.mch_list=n.mch_list,console.log(a.mch_list," at pages\\account\\account.vue:269"),a.express_price=n.mch_list[0].express_price,a.level_price=n.mch_list[0].level_price,a.total_price=n.mch_list[0].total_price,a.all=parseFloat(a.level_price)+parseFloat(a.express_price)}};e.default=a}).call(this,a("6e42")["default"])}},[["c8cd","common/runtime","common/vendor"]]]);