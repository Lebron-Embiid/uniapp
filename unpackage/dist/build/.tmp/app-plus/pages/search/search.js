(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"24a3":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return a.e("components/uni-load-more/uni-load-more").then(a.bind(null,"e92c"))},o={data:function(){return{page:1,page_count:1,keyword:"",searchList:[],loadingText:{contentdown:"上拉加载更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}},components:{uniLoadMore:n},methods:{loadMore:function(){this.getList(2)},back:function(t){var a=this;e.request({url:a.$api+"default/search&keyword="+a.keyword,method:"GET",success:function(e){var t=[];for(var n in e.data.data.list){var o=e.data.data.list;t.push({id:o[n].id,src:o[n].pic_url,title:o[n].name,info:"",price:o[n].price,type:o[n].weight})}a.page_count=e.data.data.page_count,a.searchList=t,console.log(a.searchList," at pages\\search\\search.vue:78")},fail:function(t){e.showToast({icon:"none",title:t.data.msg,duration:2e3})}})},toStoreDetail:function(t){e.navigateTo({url:"/pages/store_detail/store_detail?id="+t})},getKeyword:function(e){this.keyword=e.detail.value},confirm:function(t){var a=this;e.request({url:a.$api+"default/search&keyword="+a.keyword,method:"GET",success:function(e){var t=[];for(var n in e.data.data.list){var o=e.data.data.list;t.push({id:o[n].id,src:o[n].pic_url,title:o[n].name,info:"",price:o[n].price,type:o[n].weight})}a.page_count=e.data.data.page_count,a.searchList=t,console.log(a.searchList," at pages\\search\\search.vue:120")},fail:function(t){e.showToast({icon:"none",title:t.data.msg,duration:2e3})}})}},onLoad:function(t){var a=this;a.$access_token=e.getStorageSync("access_token"),a.$level=e.getStorageSync("level")},onPullDownRefresh:function(){var t=this;t.page=1,t.page_count=1,t.$access_token=e.getStorageSync("access_token"),t.$level=e.getStorageSync("level"),e.startPullDownRefresh(),e.showLoading({title:"加载中"}),e.request({url:t.$api+"default/search&keyword="+t.keyword,method:"GET",success:function(a){var n=[];for(var o in a.data.data.list){var i=a.data.data.list;n.push({id:i[o].id,src:i[o].pic_url,title:i[o].name,info:"",price:i[o].price,type:i[o].weight})}t.page_count=a.data.data.page_count,t.searchList=n,e.hideLoading(),e.stopPullDownRefresh(),console.log(t.searchList," at pages\\search\\search.vue:167")},fail:function(t){e.showToast({icon:"none",title:t.data.msg,duration:2e3})}})},onReachBottom:function(){var t=this;if(t.page==t.page_count)return e.showToast({title:"没有更多数据了",icon:"none"}),!1;e.showLoading({title:"加载中"}),t.page=parseInt(t.page)+parseInt(1),e.request({url:t.$api+"default/goods-list&keyword="+t.keyword+"&access_token="+t.$access_token,method:"GET",data:{page:t.page},success:function(a){var n=[];for(var o in a.data.data.list){var i=a.data.data.list;n.push({id:i[o].id,src:i[o].pic_url,title:i[o].name,info:"",price:i[o].price,type:i[o].weight})}t.searchList=t.searchList.concat(n),console.log(t.searchList," at pages\\search\\search.vue:210"),e.hideLoading()},fail:function(t){e.showToast({icon:"none",title:t.data.msg,duration:2e3})}})}};t.default=o}).call(this,a("6e42")["default"])},"38e1":function(e,t,a){"use strict";a.r(t);var n=a("24a3"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},"3f83":function(e,t,a){"use strict";var n=a("b44e"),o=a.n(n);o.a},"4c14":function(e,t,a){"use strict";a.r(t);var n=a("e403"),o=a("38e1");for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);a("3f83");var s=a("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"95f247a0",null);t["default"]=r.exports},b44e:function(e,t,a){},e403:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})}},[["f29b","common/runtime","common/vendor"]]]);