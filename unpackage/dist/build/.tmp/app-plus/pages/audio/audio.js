(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/audio/audio"],{"0420":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(e("a179")),i=n(e("d250"));n(e("0359"));function n(t){return t&&t.__esModule?t:{default:t}}var u=t.createInnerAudioContext(),s={data:function(){return{id:"",isRotate:!0,title:"",look:"",src:"",duration:0,audio_logo:"../../static/audio_logo.png",pic_url:"",control:!1,auto:!0,content:"",ispause:!0}},components:{imtAudio:o.default,uParse:i.default},methods:{changeRotate:function(t){1==this.isRotate?(this.isRotate=!1,console.log(this.isRotate)):(this.isRotate=!0,console.log(this.isRotate))}},onLoad:function(t){var a=this;a.id=t.id},onShow:function(){var a=this;a.$access_token=t.getStorageSync("access_token"),a.$level=t.getStorageSync("level"),t.request({url:a.$api+"default/video-detail&access_token="+a.$access_token+"&id="+a.id,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){a.title=t.data.data.title,a.look=t.data.data.num,a.src=t.data.data.url,u.src=t.data.data.url,console.log(u.src),u.onCanplay(function(){a.duration=parseInt(Math.ceil(u.duration))}),a.audio_logo=t.data.data.pic_url,a.content=t.data.data.content},fail:function(a){t.showToast({title:a.data.msg,icon:"none"})}})},onBackPress:function(){this.$refs.audios.next()}};a.default=s}).call(this,e("6e42")["default"])},"0ef4":function(t,a,e){"use strict";var o=e("1b04"),i=e.n(o);i.a},"1b04":function(t,a,e){},2061:function(t,a,e){"use strict";e("1a7f");var o=n(e("b0ce")),i=n(e("7191"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(i.default))},"396a":function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"imt-audio"},[e("view",{staticClass:"audio-wrapper"},[e("view",{staticClass:"audio-number"},[t._v(t._s(t.currentTime))]),e("slider",{staticClass:"audio-slider",attrs:{activeColor:t.color,"block-size":"16",value:t.current,max:t.duration,eventid:"a6bbb1ba-0"},on:{changing:function(a){t.seek=!0,t.current=a.detail.value},change:t.change}}),e("view",{staticClass:"audio-number"},[t._v(t._s(t.durationTime))])]),e("view",{staticClass:"audio-control-wrapper",style:{color:t.color}},[t.control?e("view",{staticClass:"audio-control audio-control-prev",style:{borderColor:t.color},attrs:{eventid:"a6bbb1ba-1"},on:{click:t.prev}},[t._v("")]):t._e(),e("view",{staticClass:"audio-control audio-control-switch",style:{borderColor:t.color},attrs:{eventid:"a6bbb1ba-2"},on:{click:t.operation}},[t._v(t._s(t.paused?"":""))]),t.control?e("view",{staticClass:"audio-control audio-control-next",style:{borderColor:t.color},attrs:{eventid:"a6bbb1ba-3"},on:{click:t.next}},[t._v("")]):t._e()])])},i=[];e.d(a,"a",function(){return o}),e.d(a,"b",function(){return i})},"39fc":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){return{currentTime:"",durationTime:"",current:"",loading:!1,paused:!0,seek:!1}},props:{src:String,isPause:Boolean,autoplay:Boolean,duration:Number,control:{type:Boolean,default:!0},continue:Boolean,color:{type:String,default:"#00001F"}},methods:{prev:function(){this.$emit("prev")},next:function(){this.$emit("next"),getApp().globalData.audio.pause(),this.paused=!1},format:function(t){return"0".repeat(2-String(Math.floor(t/60)).length)+Math.floor(t/60)+":"+"0".repeat(2-String(Math.floor(t%60)).length)+Math.floor(t%60)},operation:function(){this.paused?(getApp().globalData.audio.play(),this.paused=!0,this.loading=!0):(getApp().globalData.audio.pause(),this.paused=!1)},change:function(t){getApp().globalData.audio.seek(t.detail.value),this.currentTime=this.format(t.detail.value),this.paused=!1,getApp().globalData.audio.play()}},onUnload:function(){getApp().globalData.audio.pause(),this.paused=!0,this.current=0},onHide:function(){getApp().globalData.audio.pause(),this.paused=!0},created:function(){var t=this;getApp().globalData.audio.src=this.src,this.current=0,this.durationTime=this.format(this.duration),getApp().globalData.audio.autoplay=this.autoplay,this.paused=this.isPause,getApp().globalData.audio.onTimeUpdate(function(){t.current=getApp().globalData.audio.currentTime}),getApp().globalData.audio.onPlay(function(){t.paused=!1,t.loading=!1}),getApp().globalData.audio.onPause(function(){t.paused=!0}),getApp().globalData.audio.onEnded(function(){t.continue?t.next():(t.paused=!0,t.current=0,t.currentTime>=t.durationTime&&(t.currentTime=t.format(0)))}),getApp().globalData.audio.onSeeked(function(){t.seek=!1})},watch:{src:function(t){getApp().globalData.audio.src=t,this.current=0,getApp().globalData.audio.play(),this.loading=!0},duration:function(t){this.durationTime=this.format(t)},current:function(t){this.currentTime=this.format(t)}}};a.default=o},"4cd5":function(t,a,e){"use strict";e.r(a);var o=e("39fc"),i=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(a,t,function(){return o[t]})}(n);a["default"]=i.a},7191:function(t,a,e){"use strict";e.r(a);var o=e("9ef8"),i=e("bdaa");for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);e("0ef4");var u=e("2877"),s=Object(u["a"])(i["default"],o["a"],o["b"],!1,null,"3485fe92",null);a["default"]=s.exports},"9ef8":function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"audio_box"},[e("view",{staticClass:"audio_list"},[e("view",{staticClass:"audio_item"},[e("view",{staticClass:"audio_img"},[e("image",{staticClass:"cd_img",class:1==t.isRotate?"rotate":"",attrs:{src:"../../static/audio_cd1.png",mode:"widthFix"}})]),e("view",{staticClass:"ai_title"},[t._v(t._s(t.title))]),e("view",{staticClass:"ai_info"},[t._v("听众："+t._s(t.look))]),e("imt-audio",{ref:"audios",attrs:{control:t.control,autoplay:t.auto,isPause:t.ispause,src:t.src,duration:t.duration,mpcomid:"00f3aaf9-0"}})],1),e("view",{staticClass:"audio_title"},[""!=t.content?e("block",[e("u-parse",{attrs:{content:t.content,mpcomid:"00f3aaf9-1"}})],1):t._e()],1)])])},i=[];e.d(a,"a",function(){return o}),e.d(a,"b",function(){return i})},a179:function(t,a,e){"use strict";e.r(a);var o=e("396a"),i=e("4cd5");for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);e("fc8c");var u=e("2877"),s=Object(u["a"])(i["default"],o["a"],o["b"],!1,null,null,null);a["default"]=s.exports},b171:function(t,a,e){},bdaa:function(t,a,e){"use strict";e.r(a);var o=e("0420"),i=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(a,t,function(){return o[t]})}(n);a["default"]=i.a},fc8c:function(t,a,e){"use strict";var o=e("b171"),i=e.n(o);i.a}},[["2061","common/runtime","common/vendor"]]]);