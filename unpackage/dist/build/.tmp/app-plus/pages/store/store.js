(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store/store"],{"0627":function(e,t,a){"use strict";a.r(t);var o=a("c03e"),n=a("a60d");for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a("7e17");var r=a("2877"),c=Object(r["a"])(n["default"],o["a"],o["b"],!1,null,"44221316",null);t["default"]=c.exports},7531:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return a.e("components/common-swiper").then(a.bind(null,"b505"))},n=function(){return a.e("components/common-store").then(a.bind(null,"ff75"))},s={data:function(){return{page_count1:1,page1:1,page_count2:1,page2:1,page_count3:1,page3:1,swiperList:[],scrollLeft:0,tabIndex:0,navbar:[],currentTab:1,cat:[],storeList:[]}},components:{commonSwiper:o,commonStore:n},methods:{navbarTap:function(t){var a=this;a.currentTab=t,e.startPullDownRefresh(),e.request({url:a.$api+"default/goods-list&cat_id="+t+"&access_token="+a.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var t=[],o=e.data.data;for(var n in o.list)t.push({id:o.list[n].id,src:o.list[n].pic_url,cat_id:o.list[n].cat_id,title:o.list[n].name,price:o.list[n].original_price,type:o.list[n].weight});a.storeList=t,1==a.currentTab?a.page_count1=e.data.data.page_count:2==a.currentTab?a.page_count2=e.data.data.page_count:3==a.currentTab&&(a.page_count3=e.data.data.page_count),console.log(a.page_count1," at pages\\store\\store.vue:121"),console.log(a.page_count2," at pages\\store\\store.vue:122"),console.log(a.page_count3," at pages\\store\\store.vue:123")},fail:function(){e.showToast({title:res.data.msg,icon:"none"})}})},toSearch:function(t){e.navigateTo({url:"/pages/search/search"})}},onShow:function(){var t=this;if(t.$user_name=e.getStorageSync("user_name"),""==t.$user_name)return e.showToast({title:"请完善代理商资料！",icon:"none",duration:2e3}),setTimeout(function(){e.navigateTo({url:"/pages/complete_mater/complete_mater"})},2e3),!1},onLoad:function(t){var a=this;a.$access_token=e.getStorageSync("access_token"),a.$level=e.getStorageSync("level"),console.log(a.$access_token,a.$level," at pages\\store\\store.vue:162"),setTimeout(function(){e.request({url:a.$api+"default/shop&cat_id=1&access_token="+a.$access_token,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var t=[],o=[],n=[],s=e.data.data;for(var r in s.cat)t.push({id:s.cat[r].id,name:s.cat[r].name});for(var c in s.list)n.push({id:s.list[c].id,src:s.list[c].pic_url,title:s.list[c].name,cat_id:s.list[c].cat_id,price:s.list[c].original_price,type:s.list[c].weight});for(var i in s.shop_banner)o.push(s.shop_banner[i].pic_url);a.page_count1=e.data.data.page_count,a.navbar=t,a.storeList=n,a.swiperList=o},fail:function(){e.showToast({title:res.data.msg,icon:"none"})}})},1e3),e.startPullDownRefresh()},onPullDownRefresh:function(){var t=this;setTimeout(function(){e.request({url:t.$api+"default/goods-list&cat_id="+t.currentTab+"&access_token="+t.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var a=[],o=e.data.data;for(var n in o.list)a.push({id:o.list[n].id,src:o.list[n].pic_url,cat_id:o.list[n].cat_id,title:o.list[n].name,price:o.list[n].original_price,type:o.list[n].weight});t.storeList=a,1==t.currentTab?t.page_count1=e.data.data.page_count:2==t.currentTab?t.page_count2=e.data.data.page_count:3==t.currentTab&&(t.page_count3=e.data.data.page_count),console.log(t.page_count1," at pages\\store\\store.vue:244"),console.log(t.page_count2," at pages\\store\\store.vue:245"),console.log(t.page_count3," at pages\\store\\store.vue:246")},fail:function(){e.showToast({title:res.data.msg,icon:"none"})}}),e.stopPullDownRefresh()},1e3)},onReachBottom:function(){var t=this;if(1==t.currentTab){if(console.log(1111," at pages\\store\\store.vue:263"),console.log(t.page_count1," at pages\\store\\store.vue:264"),console.log(t.page1," at pages\\store\\store.vue:265"),t.page1==t.page_count1)return e.showToast({title:"没有更多数据了",icon:"none"}),!1;t.page1=parseInt(t.page1)+parseInt(1);var a=t.page1}else if(2==t.currentTab){if(console.log(2222," at pages\\store\\store.vue:276"),console.log(t.page_count2," at pages\\store\\store.vue:277"),console.log(t.page2," at pages\\store\\store.vue:278"),t.page2==t.page_count2)return e.showToast({title:"没有更多数据了",icon:"none"}),!1;t.page2=parseInt(t.page2)+parseInt(1);a=t.page2}else if(3==t.currentTab){if(console.log(33333," at pages\\store\\store.vue:289"),console.log(t.page_count3," at pages\\store\\store.vue:290"),console.log(t.page_count3," at pages\\store\\store.vue:291"),t.page3==t.page_count3)return e.showToast({title:"没有更多数据了",icon:"none"}),!1;t.page3=parseInt(t.page3)+parseInt(1);a=t.page3}e.request({url:t.$api+"default/goods-list&cat_id="+t.currentTab+"&access_token="+t.$access_token,method:"GET",data:{page:a},success:function(e){var a=[],o=e.data.data.list;for(var n in o)a.push({id:o[n].id,src:o[n].pic_url,title:o[n].name,cat_id:o[n].cat_id,price:o[n].original_price,type:o[n].weight});t.storeList=t.storeList.concat(a),console.log(t.storeList," at pages\\store\\store.vue:322")},fail:function(){e.showToast({icon:"none",title:res.data.msg,duration:2e3})}})}};t.default=s}).call(this,a("6e42")["default"])},"7e17":function(e,t,a){"use strict";var o=a("aa20"),n=a.n(o);n.a},a60d:function(e,t,a){"use strict";a.r(t);var o=a("7531"),n=a.n(o);for(var s in o)"default"!==s&&function(e){a.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},aa20:function(e,t,a){},c03e:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},n=[];a.d(t,"a",function(){return o}),a.d(t,"b",function(){return n})}},[["126f","common/runtime","common/vendor"]]]);