(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store/store"],{"0627":function(t,e,a){"use strict";a.r(e);var o=a("f65e"),n=a("a60d");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("b3b3");var r=a("2877"),c=Object(r["a"])(n["default"],o["a"],o["b"],!1,null,"1113fb39",null);e["default"]=c.exports},7531:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){return a.e("components/common-swiper").then(a.bind(null,"b505"))},n=function(){return a.e("components/common-store").then(a.bind(null,"ff75"))},s={data:function(){return{page_count1:1,page1:1,page_count2:1,page2:1,page_count3:1,page3:1,swiperList:[],scrollLeft:0,tabIndex:0,navbar:[],currentTab:1,cat:[],storeList:[]}},components:{commonSwiper:o,commonStore:n},methods:{navbarTap:function(e){var a=this;a.currentTab=e,t.startPullDownRefresh(),t.request({url:a.$api+"default/goods-list&cat_id="+e+"&access_token="+a.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var e=[],o=t.data.data;for(var n in o.list)e.push({id:o.list[n].id,src:o.list[n].pic_url,cat_id:o.list[n].cat_id,title:o.list[n].name,price:o.list[n].price,type:o.list[n].weight});a.storeList=e,1==a.currentTab?a.page_count1=t.data.data.page_count:2==a.currentTab?a.page_count2=t.data.data.page_count:3==a.currentTab&&(a.page_count3=t.data.data.page_count),console.log(a.page_count1," at pages\\store\\store.vue:121"),console.log(a.page_count2," at pages\\store\\store.vue:122"),console.log(a.page_count3," at pages\\store\\store.vue:123")},fail:function(){t.showToast({title:res.data.msg,icon:"none"})}})},toSearch:function(e){t.navigateTo({url:"/pages/search/search"})}},onLoad:function(e){var a=this;a.$access_token=t.getStorageSync("access_token"),a.$level=t.getStorageSync("level"),setTimeout(function(){t.request({url:a.$api+"default/shop&cat_id=1&access_token="+a.$access_token,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var e=[],o=[],n=[],s=t.data.data;for(var r in s.cat)e.push({id:s.cat[r].id,name:s.cat[r].name});for(var c in s.list)n.push({id:s.list[c].id,src:s.list[c].pic_url,title:s.list[c].name,cat_id:s.list[c].cat_id,price:s.list[c].price,type:s.list[c].weight});for(var i in s.shop_banner)o.push(s.shop_banner[i].pic_url);a.page_count1=t.data.data.page_count,a.navbar=e,a.storeList=n,a.swiperList=o},fail:function(){t.showToast({title:res.data.msg,icon:"none"})}})},1e3),t.startPullDownRefresh()},onPullDownRefresh:function(){var e=this;setTimeout(function(){t.request({url:e.$api+"default/goods-list&cat_id="+e.currentTab+"&access_token="+e.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var a=[],o=t.data.data;for(var n in o.list)a.push({id:o.list[n].id,src:o.list[n].pic_url,cat_id:o.list[n].cat_id,title:o.list[n].name,price:o.list[n].price,type:o.list[n].weight});e.storeList=a,1==e.currentTab?e.page_count1=t.data.data.page_count:2==e.currentTab?e.page_count2=t.data.data.page_count:3==e.currentTab&&(e.page_count3=t.data.data.page_count),console.log(e.page_count1," at pages\\store\\store.vue:226"),console.log(e.page_count2," at pages\\store\\store.vue:227"),console.log(e.page_count3," at pages\\store\\store.vue:228")},fail:function(){t.showToast({title:res.data.msg,icon:"none"})}}),t.stopPullDownRefresh()},1e3)},onReachBottom:function(){var e=this;if(1==e.currentTab){if(console.log(1111," at pages\\store\\store.vue:245"),console.log(e.page_count1," at pages\\store\\store.vue:246"),console.log(e.page1," at pages\\store\\store.vue:247"),e.page1==e.page_count1)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page1=parseInt(e.page1)+parseInt(1);var a=e.page1}else if(2==e.currentTab){if(console.log(2222," at pages\\store\\store.vue:258"),console.log(e.page_count2," at pages\\store\\store.vue:259"),console.log(e.page2," at pages\\store\\store.vue:260"),e.page2==e.page_count2)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page2=parseInt(e.page2)+parseInt(1);a=e.page2}else if(3==e.currentTab){if(console.log(33333," at pages\\store\\store.vue:271"),console.log(e.page_count3," at pages\\store\\store.vue:272"),console.log(e.page_count3," at pages\\store\\store.vue:273"),e.page3==e.page_count3)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page3=parseInt(e.page3)+parseInt(1);a=e.page3}t.request({url:e.$api+"default/goods-list&cat_id="+e.currentTab+"&access_token="+e.$access_token,method:"GET",data:{page:a},success:function(t){var a=[],o=t.data.data.list;for(var n in o)a.push({id:o[n].id,src:o[n].pic_url,title:o[n].name,cat_id:o[n].cat_id,price:o[n].price,type:o[n].weight});e.storeList=e.storeList.concat(a),console.log(e.storeList," at pages\\store\\store.vue:304")},fail:function(){t.showToast({icon:"none",title:res.data.msg,duration:2e3})}})}};e.default=s}).call(this,a("6e42")["default"])},a60d:function(t,e,a){"use strict";a.r(e);var o=a("7531"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e["default"]=n.a},b3b3:function(t,e,a){"use strict";var o=a("bd6e"),n=a.n(o);n.a},bd6e:function(t,e,a){},f65e:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})}},[["126f","common/runtime","common/vendor"]]]);