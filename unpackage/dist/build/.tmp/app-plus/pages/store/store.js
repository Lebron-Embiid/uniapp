(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/store/store"],{"0627":function(t,e,a){"use strict";a.r(e);var n=a("3d04"),o=a("a60d");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("cf0d");var i=a("2877"),c=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"446cb25e",null);e["default"]=c.exports},"3d04":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},a60d:function(t,e,a){"use strict";a.r(e);var n=a("c3a4"),o=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},c0d9:function(t,e,a){},c3a4:function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){return a.e("components/common-swiper").then(a.bind(null,"b505"))},s=function(){return a.e("components/common-store").then(a.bind(null,"ff75"))},i={data:function(){return{page_count1:1,page1:1,page_count2:1,page2:1,page_count3:1,page3:1,swiperList:[],scrollLeft:0,tabIndex:0,navbar:[],currentTab:3,cat:[],storeList:[]}},components:{commonSwiper:o,commonStore:s},methods:{toContact:function(){t.navigateTo({url:"/pages/feedback/feedback"})},navbarTap:function(e){var a=this;a.currentTab=e,a.page_count1=1,a.page_count2=1,a.page_count3=1,a.page1=1,a.page2=1,a.page3=1,t.startPullDownRefresh(),t.request({url:a.$api+"default/goods-list&cat_id="+e+"&access_token="+a.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var e=[],o=t.data.data;for(var s in o.list)e.push({id:o.list[s].id,src:o.list[s].pic_url,cat_id:o.list[s].cat_id,title:o.list[s].name,price:o.list[s].original_price,type:o.list[s].weight,sales:o.list[s].sales});a.storeList=e,1==a.currentTab?a.page_count1=t.data.data.page_count:2==a.currentTab?a.page_count2=t.data.data.page_count:3==a.currentTab&&(a.page_count3=t.data.data.page_count),console.log(n(a.page_count1," at pages\\store\\store.vue:136")),console.log(n(a.page_count2," at pages\\store\\store.vue:137")),console.log(n(a.page_count3," at pages\\store\\store.vue:138"))},fail:function(e){t.showToast({title:e.data.msg,icon:"none"})}})},toSearch:function(e){t.navigateTo({url:"/pages/search/search"})}},onShow:function(){var e=this;if(e.$user_name=t.getStorageSync("user_name"),""==e.$user_name)return t.showToast({title:"请完善代理商资料！",icon:"none",duration:2e3}),setTimeout(function(){t.navigateTo({url:"/pages/complete_mater/complete_mater"})},2e3),!1},onLoad:function(e){var a=this;a.$access_token=t.getStorageSync("access_token"),a.$level=t.getStorageSync("level"),console.log(n(a.$access_token,a.$level," at pages\\store\\store.vue:177")),t.showLoading({title:"加载中"}),t.request({url:a.$api+"default/shop&cat_id="+a.currentTab+"&access_token="+a.$access_token,dataType:"json",method:"GET",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){var n=[],o=[],s=[],i=e.data.data;for(var c in i.cat)n.push({id:i.cat[c].id,name:i.cat[c].name});for(var r in i.list)s.push({id:i.list[r].id,src:i.list[r].pic_url,title:i.list[r].name,cat_id:i.list[r].cat_id,price:i.list[r].original_price,type:i.list[r].weight,sales:i.list[r].sales});for(var u in i.shop_banner)o.push(i.shop_banner[u].pic_url);a.page_count1=e.data.data.page_count,a.navbar=n,a.storeList=s,a.swiperList=o,t.hideLoading()},fail:function(e){t.showToast({title:e.data.msg,icon:"none"})}}),t.startPullDownRefresh()},onPullDownRefresh:function(){var e=this;e.page_count1=1,e.page_count2=1,e.page_count3=1,e.page1=1,e.page2=1,e.page3=1,t.showLoading({title:"加载中"}),setTimeout(function(){t.request({url:e.$api+"default/goods-list&cat_id="+e.currentTab+"&access_token="+e.$access_token,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){var n=[],o=a.data.data;for(var s in o.list)n.push({id:o.list[s].id,src:o.list[s].pic_url,cat_id:o.list[s].cat_id,title:o.list[s].name,price:o.list[s].original_price,type:o.list[s].weight,sales:o.list[s].sales});e.storeList=n,1==e.currentTab?e.page_count1=a.data.data.page_count:2==e.currentTab?e.page_count2=a.data.data.page_count:3==e.currentTab&&(e.page_count3=a.data.data.page_count),t.hideLoading()},fail:function(e){t.showToast({title:e.data.msg,icon:"none"})}}),t.stopPullDownRefresh()},1e3)},onReachBottom:function(){var e=this;if(1==e.currentTab){if(e.page1==e.page_count1)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page1=parseInt(e.page1)+parseInt(1);var a=e.page1}else if(2==e.currentTab){if(e.page2==e.page_count2)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page2=parseInt(e.page2)+parseInt(1);a=e.page2}else if(3==e.currentTab){if(e.page3==e.page_count3)return t.showToast({title:"没有更多数据了",icon:"none"}),!1;e.page3=parseInt(e.page3)+parseInt(1);a=e.page3}t.showLoading({title:"加载中"}),t.request({url:e.$api+"default/goods-list&cat_id="+e.currentTab+"&access_token="+e.$access_token,method:"GET",data:{page:a},success:function(a){var n=[],o=a.data.data.list;for(var s in o)n.push({id:o[s].id,src:o[s].pic_url,title:o[s].name,cat_id:o[s].cat_id,price:o[s].original_price,type:o[s].weight,sales:o[s].sales});e.storeList=e.storeList.concat(n),t.hideLoading()},fail:function(e){t.showToast({icon:"none",title:e.data.msg,duration:2e3})}})}};e.default=i}).call(this,a("6e42")["default"],a("0de9")["default"])},cf0d:function(t,e,a){"use strict";var n=a("c0d9"),o=a.n(n);o.a}},[["126f","common/runtime","common/vendor"]]]);