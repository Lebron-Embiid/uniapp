(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"4d51":function(t,e,a){"use strict";a.r(e);var n=a("e9a3"),s=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},"64d8":function(t,e,a){"use strict";a("1a7f");var n=o(a("b0ce")),s=o(a("e5db"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(s.default))},"8b50":function(t,e,a){"use strict";var n=a("a053"),s=a.n(n);s.a},"911e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[t._m(0),a("view",{staticClass:"list"},[a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"/static/1.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneno,expression:"phoneno"}],staticClass:"biaoti",attrs:{type:"number",maxlength:"11",placeholder:"手机号",eventid:"7a43abaa-0"},domProps:{value:t.phoneno},on:{input:function(e){e.target.composing||(t.phoneno=e.target.value)}}})]),a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"/static/3.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"biaoti",attrs:{type:"number",maxlength:"6",placeholder:"验证码",eventid:"7a43abaa-1"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("view",{staticClass:"yzm",class:{yzms:t.second>0},attrs:{eventid:"7a43abaa-2"},on:{tap:t.getcode}},[t._v(t._s(t.yanzhengma))])]),a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"/static/2.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"biaoti",attrs:{type:"text",maxlength:"32",placeholder:"登录密码",password:!t.showPassword,eventid:"7a43abaa-3"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("image",{staticClass:"img",attrs:{src:t.showPassword?"/static/shilu-login/op.png":"/static/shilu-login/cl.png",eventid:"7a43abaa-4"},on:{tap:t.display}})]),a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"/static/4.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invitation,expression:"invitation"}],staticClass:"biaoti",attrs:{type:"text",placeholder:"邀请码",eventid:"7a43abaa-5"},domProps:{value:t.invitation},on:{input:function(e){e.target.composing||(t.invitation=e.target.value)}}})])]),a("view",{staticClass:"dlbutton",attrs:{"hover-class":"dlbutton-hover",eventid:"7a43abaa-6"},on:{tap:t.bindLogin}},[a("text",[t._v("注册")])]),a("view",{staticClass:"xieyi"},[a("image",{attrs:{src:1==t.xieyi?"/static/ty1.png":"/static/ty0.png",eventid:"7a43abaa-7"},on:{tap:t.xieyitong}}),a("text",{attrs:{eventid:"7a43abaa-8"},on:{tap:t.xieyitong}},[t._v("同意")]),a("navigator",{attrs:{url:"/pages/agreement/agreement","open-type":"navigate"}},[t._v("我已阅读并同意《用户协议》")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"header"},[a("image",{attrs:{src:"../../static/video_img.png"}})])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})},a053:function(t,e,a){},e5db:function(t,e,a){"use strict";a.r(e);var n=a("911e"),s=a("4d51");for(var o in s)"default"!==o&&function(t){a.d(e,t,function(){return s[t]})}(o);a("8b50");var i=a("2877"),c=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},e9a3:function(t,e,a){"use strict";(function(t){var a,n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={onLoad:function(t){a=this;t.uid},onUnload:function(){clearInterval(n),this.second=0},data:function(){return{phoneno:"",uid:"",password:"",code:"",invitation:"",xieyi:!0,showPassword:!1,second:0}},computed:{yanzhengma:function(){return 0==this.second?"获取验证码":this.second+"s"}},methods:{display:function(){this.showPassword=!this.showPassword},xieyitong:function(){this.xieyi=!this.xieyi},getcode:function(){if(!(this.second>0))return 11!=this.phoneno.length?(t.showToast({title:"请填写正确的号码",icon:"none"}),!1):void t.request({url:this.$api+"default/user-hand-binding",data:{content:this.phoneno,code_type:"reg"},method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e),1==e.data.code?(t.showToast({title:e.data.msg,icon:"none"}),a.second=0):(t.showToast({title:e.data.msg}),a.second=60,n=setInterval(function(){a.second--,0==a.second&&clearInterval(n)},1e3))}})},bindLogin:function(){var e=this;0!=this.xieyi?""!=e.phoneno?11==e.phoneno.length?""!=e.invitation&&"0"!=e.invitation?""!=e.password?""!=e.code?t.request({url:e.$api+"passport/register",data:{contact_way:e.phoneno,password:e.password,code:e.code,referrer:e.invitation},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){console.log(a.data),1!=a.data.code?t.showToast({title:a.data.msg,icon:"none"}):(t.showToast({title:a.data.msg}),t.setStorageSync("access_token",a.data.data.access_token),t.setStorageSync("level",a.data.data.level),e.$access_token=t.getStorageSync("access_token"),e.$level=t.getStorageSync("level"),setTimeout(function(){t.reLaunch({url:"/pages/login/login"})},1500))}}):t.showToast({icon:"none",title:"请输入验证码"}):t.showToast({icon:"none",title:"请输入密码"}):t.showToast({icon:"none",title:"邀请码有误"}):t.showToast({icon:"none",title:"手机号不正确"}):t.showToast({icon:"none",title:"手机号不能为空"}):t.showToast({icon:"none",title:"请先阅读《软件用户协议》"})}}};e.default=s}).call(this,a("6e42")["default"])}},[["64d8","common/runtime","common/vendor"]]]);