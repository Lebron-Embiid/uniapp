(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"379f":function(e,t,a){"use strict";var n=a("e9ec"),o=a.n(n);o.a},"6cc3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},"7c29":function(e,t,a){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLoad:function(){},data:function(){return{phoneno:"",password:""}},methods:{bindLogin:function(){var t=this;11==this.phoneno.length?e.request({url:t.$api+"passport/mobile-login",data:{contact_way:this.phoneno,password:this.password},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){if(1!=n.data.code)e.showToast({title:n.data.data.msg,icon:"none"});else{var o=n.data.data.access_token;console.log(a(n," at pages\\login\\login.vue:69")),0==n.data.data.is_wx?e.login({provider:"weixin",success:function(n){e.getUserInfo({provider:"weixin",success:function(n){e.request({url:t.$api+"user/agent-information&access_token="+o,dataType:"json",method:"POST",data:{nickname:n.userInfo.nickName,wechat_open_id:n.userInfo.openId,avatar_url:n.userInfo.avatarUrl},header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){n.data.data;t.is_wx=1,e.showToast({title:n.data.msg,icon:"none"}),e.clearStorageSync(),e.setStorageSync("user_name",n.data.data.user_name),e.setStorageSync("access_token",n.data.data.access_token),e.setStorageSync("level",n.data.data.level),t.$access_token=e.getStorageSync("access_token"),t.$level=e.getStorageSync("level"),t.$user_name=e.getStorageSync("user_name"),console.log(a(t.$access_token," at pages\\login\\login.vue:105")),console.log(a(t.$level," at pages\\login\\login.vue:106")),console.log(a(t.$user_name," at pages\\login\\login.vue:107")),""==n.data.data.user_name?setTimeout(function(){e.redirectTo({url:"/pages/complete_mater/complete_mater"})},1500):setTimeout(function(){e.reLaunch({url:"/pages/index/index"})},1500)}})}})},fail:function(t){e.showToast({title:"授权登录失败",icon:"none",duration:1500})}}):(e.clearStorageSync(),e.setStorageSync("user_name",n.data.data.user_name),e.setStorageSync("access_token",n.data.data.access_token),e.setStorageSync("level",n.data.data.level),e.showToast({title:n.data.data.msg,icon:"none",duration:1500}),t.$access_token=e.getStorageSync("access_token"),t.$level=e.getStorageSync("level"),t.$user_name=e.getStorageSync("user_name"),console.log(a(t.$access_token," at pages\\login\\login.vue:150")),console.log(a(t.$level," at pages\\login\\login.vue:151")),console.log(a(t.$user_name," at pages\\login\\login.vue:152")),""==n.data.data.user_name?setTimeout(function(){e.redirectTo({url:"/pages/complete_mater/complete_mater"})},1500):setTimeout(function(){e.reLaunch({url:"/pages/index/index"})},1500))}},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}}):e.showToast({icon:"none",title:"手机号不正确"})}}};t.default=n}).call(this,a("6e42")["default"],a("0de9")["default"])},d1f7:function(e,t,a){"use strict";a.r(t);var n=a("7c29"),o=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t["default"]=o.a},d2bb:function(e,t,a){"use strict";a.r(t);var n=a("6cc3"),o=a("d1f7");for(var s in o)"default"!==s&&function(e){a.d(t,e,function(){return o[e]})}(s);a("379f");var c=a("2877"),i=Object(c["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},e9ec:function(e,t,a){}},[["b061","common/runtime","common/vendor"]]]);