(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"379f":function(e,t,a){"use strict";var n=a("e9ec"),o=a.n(n);o.a},"6cc3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"content"},[e._m(0),a("view",{staticClass:"list"},[a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"../../static/1.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneno,expression:"phoneno"}],staticClass:"biaoti",attrs:{type:"number",maxlength:"11",placeholder:"输入手机号",eventid:"358e17df-0"},domProps:{value:e.phoneno},on:{input:function(t){t.target.composing||(e.phoneno=t.target.value)}}})]),a("view",{staticClass:"list-call"},[a("image",{staticClass:"img",attrs:{src:"../../static/2.png"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"biaoti",attrs:{type:"text",maxlength:"32",placeholder:"输入密码",password:"true",eventid:"358e17df-1"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),a("view",{staticClass:"dlbutton",attrs:{"hover-class":"dlbutton-hover",eventid:"358e17df-2"},on:{tap:function(t){e.bindLogin()}}},[a("text",[e._v("登录")])]),a("view",{staticClass:"xieyi"},[a("navigator",{attrs:{url:"/pages/forget/forget","open-type":"navigate"}},[e._v("忘记密码")]),a("text",[e._v("|")]),a("navigator",{attrs:{url:"/pages/register/register","open-type":"navigate"}},[e._v("注册账户")])],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"header"},[a("image",{attrs:{src:"../../static/video_img.png"}})])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},7568:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={onLoad:function(){},data:function(){return{phoneno:"",password:""}},methods:{bindLogin:function(){var t=this;11==this.phoneno.length?e.request({url:t.$api+"passport/mobile-login",data:{contact_way:this.phoneno,password:this.password},method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){if(1!=a.data.code)e.showToast({title:a.data.data.msg,icon:"none"});else{var n=a.data.data.access_token;console.log(a),0==a.data.data.is_wx?e.login({provider:"weixin",success:function(a){e.getUserInfo({provider:"weixin",success:function(a){e.request({url:t.$api+"user/agent-information&access_token="+n,dataType:"json",method:"POST",data:{nickname:a.userInfo.nickName,wechat_open_id:a.userInfo.openId,avatar_url:a.userInfo.avatarUrl},header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){a.data.data;t.is_wx=1,e.showToast({title:a.data.msg,icon:"none"}),e.clearStorageSync(),e.setStorageSync("user_name",a.data.data.user_name),e.setStorageSync("access_token",a.data.data.access_token),e.setStorageSync("level",a.data.data.level),t.$access_token=e.getStorageSync("access_token"),t.$level=e.getStorageSync("level"),t.$user_name=e.getStorageSync("user_name"),console.log(t.$access_token),console.log(t.$level),console.log(t.$user_name),""==a.data.data.user_name?setTimeout(function(){e.redirectTo({url:"/pages/complete_mater/complete_mater"})},1500):setTimeout(function(){e.reLaunch({url:"/pages/index/index"})},1500)}})}})},fail:function(t){e.showToast({title:"授权登录失败",icon:"none",duration:1500})}}):(e.clearStorageSync(),e.setStorageSync("user_name",a.data.data.user_name),e.setStorageSync("access_token",a.data.data.access_token),e.setStorageSync("level",a.data.data.level),e.showToast({title:a.data.data.msg,icon:"none",duration:1500}),t.$access_token=e.getStorageSync("access_token"),t.$level=e.getStorageSync("level"),t.$user_name=e.getStorageSync("user_name"),console.log(t.$access_token),console.log(t.$level),console.log(t.$user_name),""==a.data.data.user_name?setTimeout(function(){e.redirectTo({url:"/pages/complete_mater/complete_mater"})},1500):setTimeout(function(){e.reLaunch({url:"/pages/index/index"})},1500))}},fail:function(t){e.showToast({title:t.data.msg,icon:"none"})}}):e.showToast({icon:"none",title:"手机号不正确"})}}};t.default=a}).call(this,a("6e42")["default"])},b061:function(e,t,a){"use strict";a("1a7f");var n=s(a("b0ce")),o=s(a("d2bb"));function s(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(o.default))},d1f7:function(e,t,a){"use strict";a.r(t);var n=a("7568"),o=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t["default"]=o.a},d2bb:function(e,t,a){"use strict";a.r(t);var n=a("6cc3"),o=a("d1f7");for(var s in o)"default"!==s&&function(e){a.d(t,e,function(){return o[e]})}(s);a("379f");var c=a("2877"),i=Object(c["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},e9ec:function(e,t,a){}},[["b061","common/runtime","common/vendor"]]]);